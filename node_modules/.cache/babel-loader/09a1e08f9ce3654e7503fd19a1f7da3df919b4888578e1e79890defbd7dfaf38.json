{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nexport function useProducts() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  function addProduct(product) {\n    setProducts(prev => [...prev, product]);\n  }\n  async function fetchProducts() {\n    try {\n      setError('');\n      setLoading(true);\n      const response = await axios.get(\"https://fakestoreapi.com/products?limit=5\");\n      setProducts(response.data);\n      setLoading(false);\n    } catch (e) {\n      const error = e;\n      setLoading(false);\n      setError(error.message);\n    }\n  }\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n  return {\n    products,\n    error,\n    loading,\n    addProduct\n  };\n}\n_s(useProducts, \"7XdiwA+zH0BUukuNXo61gsIMCOU=\");","map":{"version":3,"names":["useEffect","useState","axios","useProducts","_s","products","setProducts","loading","setLoading","error","setError","addProduct","product","prev","fetchProducts","response","get","data","e","message"],"sources":["/Users/almaznurmanov/dev/react_projects/public_ui/src/hooks/products.ts"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios, { AxiosError } from 'axios'\nimport {IProduct} from './../models'\n\nexport function useProducts(){\n    const [products, setProducts]=useState<IProduct[]>([])\n    const [loading, setLoading]=useState(false)\n    const [error, setError]=useState('')\n\n    function addProduct(product: IProduct){\n        setProducts(prev=>[...prev, product])    \n    }\n    async function fetchProducts(){\n        try{\n            setError('')\n            setLoading(true)\n            const response = await axios.get<IProduct[]>(\"https://fakestoreapi.com/products?limit=5\")\n            setProducts(response.data)\n            setLoading(false)\n        }catch(e: unknown){\n            const error = e as AxiosError\n            setLoading(false)\n            setError(error.message)\n        }\n    }\n    useEffect(()=>{\n        fetchProducts()\n    },[])\n    \n    return {products, error, loading, addProduct}\n}"],"mappings":";AAAA,SAAgBA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAsB,OAAO;AAGzC,OAAO,SAASC,WAAWA,CAAA,EAAE;EAAAC,EAAA;EACzB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAACL,QAAQ,CAAa,EAAE,CAAC;EACtD,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAACP,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAACT,QAAQ,CAAC,EAAE,CAAC;EAEpC,SAASU,UAAUA,CAACC,OAAiB,EAAC;IAClCN,WAAW,CAACO,IAAI,IAAE,CAAC,GAAGA,IAAI,EAAED,OAAO,CAAC,CAAC;EACzC;EACA,eAAeE,aAAaA,CAAA,EAAE;IAC1B,IAAG;MACCJ,QAAQ,CAAC,EAAE,CAAC;MACZF,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMO,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAG,CAAa,2CAA2C,CAAC;MACzFV,WAAW,CAACS,QAAQ,CAACE,IAAI,CAAC;MAC1BT,UAAU,CAAC,KAAK,CAAC;IACrB,CAAC,QAAMU,CAAU,EAAC;MACd,MAAMT,KAAK,GAAGS,CAAe;MAC7BV,UAAU,CAAC,KAAK,CAAC;MACjBE,QAAQ,CAACD,KAAK,CAACU,OAAO,CAAC;IAC3B;EACJ;EACAnB,SAAS,CAAC,MAAI;IACVc,aAAa,EAAE;EACnB,CAAC,EAAC,EAAE,CAAC;EAEL,OAAO;IAACT,QAAQ;IAAEI,KAAK;IAAEF,OAAO;IAAEI;EAAU,CAAC;AACjD;AAACP,EAAA,CA1BeD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}